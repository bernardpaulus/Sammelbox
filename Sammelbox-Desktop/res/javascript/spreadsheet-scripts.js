/* This file should automatically generated during the build process TODO */
function startDrag(e,t){idDragStarted=e;mouseDownX=t.clientX;dragging=true;var n=document.getElementById("body");if(!hasClass(n,"unselectable")){addClass(n,"unselectable")}}function stopDrag(e){if(dragging==false){return}mouseUpX=e.clientX;deltaX=mouseUpX-mouseDownX;oldWidth=parseInt(document.getElementById("col:"+idDragStarted).getAttribute("width"));newWidth=oldWidth+deltaX;if(newWidth<minColWidth){newWidth=minColWidth}document.getElementById("col:"+idDragStarted).setAttribute("width",newWidth);dragging=false;var t=document.getElementById("body");if(hasClass(t,"unselectable")){removeClass(t,"unselectable")}}function invertHidden(e){if(hasClass(e,"hidden")){removeClass(e,"hidden")}else{addClass(e,"hidden")}}function setHidden(e){var t=document.getElementById("label:"+e);invertHidden(t);t=document.getElementById("dragMe:"+e);invertHidden(t);t=document.getElementById("arrowRight:"+e);invertHidden(t);t=document.getElementById("arrowLeft:"+e);invertHidden(t);for(index=0;index<tableRowId.length;++index){t=document.getElementById("hideThisContainer:"+e+":"+tableRowId[index]);invertHidden(t)}t=document.getElementById("col:"+e);if(parseInt(t.getAttribute("width"))!=minimizedColWidth){t.setAttribute("width",minimizedColWidth)}else{t.setAttribute("width",minColWidth)}}function markAsDelete(e){var t=document.getElementById("delete:"+e);var n=document.getElementById("row:"+e);var r=t.checked;if(r==true){addClass(n,"delete");increaseDeleteCount()}else{removeClass(n,"delete");decreaseDeleteCount()}if(contains(deleteTheseObjects,e)){remove(deleteTheseObjects,e)}else{deleteTheseObjects.push(e)}}function fieldIsWrong(e,t){if(!hasClass(e,"wrongInput")){addClass(e,"wrongInput");incWrongCounter(t)}}function fieldIsOk(e,t){if(hasClass(e,"wrongInput")){removeClass(e,"wrongInput");decWrongCounter(t)}}function markAsDirty(e,t){var n=document.getElementById("row:"+e);var r=document.getElementById("nextFreeId").innerHTML;var i=document.getElementById("input:"+t+":"+e);var s=document.getElementById("value:"+t+":"+e);var o=tableColType[posInArray(tableColId,t)];switch(o){case"INTEGER":if(isInteger(i.value)){fieldIsOk(s,e)}else{fieldIsWrong(s,e)}break;case"DECIMAL":if(isDecimal(i.value)){fieldIsOk(s,e)}else{fieldIsWrong(s,e)}break;case"DATE":if(isDate(i.value)){fieldIsOk(s,e)}else{fieldIsWrong(s,e)}break}if(e==r){newItem(e)}else{if(!hasClass(n,"dirty")){addClass(n,"dirty");increaseModifyCount()}}for(index=0;index<updateTheseObjects.length;++index){if(updateTheseObjects[index][0]==e){remove(updateTheseObjects,updateTheseObjects[index])}}var u=[];u.push(e);for(index=1;index<tableColId.length;++index){elem=document.getElementById("input:"+tableColId[index]+":"+e);u.push(elem.value)}updateTheseObjects.push(u)}function decWrongCounter(e){var t=parseInt(document.getElementById("corruptions:"+e).value);t=t-1;document.getElementById("corruptions:"+e).value=t;enableDisableSendButoon()}function incWrongCounter(e){var t=parseInt(document.getElementById("corruptions:"+e).value);t=t+1;document.getElementById("corruptions:"+e).value=t;enableDisableSendButoon()}function enableDisableSendButoon(){var e=0;for(index=0;index<tableRowId.length;++index){e=e+parseInt(document.getElementById("corruptions:"+tableRowId[index]).value)}if(e==0){document.getElementById("checkAndSend").disabled=false}else{document.getElementById("checkAndSend").disabled=true}}function contains(e,t){for(var n=0;n<e.length;n++){if(e[n]===t){return true}}return false}function remove(e,t){for(var n=e.length;n--;){if(e[n]==t){e.splice(n,1)}}}function posInArray(e,t){for(var n=0;n<e.length;n++){if(e[n]==t){return n}}return-1}function newItem(e){var t=document.getElementById("row:"+e);if(hasClass(t,"empty")){cloneRow(e);removeClass(t,"empty");addClass(t,"new")}var n=[];n.push(e);for(index=0;index<tableColId.length;++index){elem=document.getElementById("input:"+tableColId[index]+":"+e);n.push(elem.value)}updateTheseObjects.push(n)}function cloneRow(e){var t=document.getElementById("row:"+e);var n=document.getElementById("spreadsheetTable");var r=t.cloneNode(true);newId=e-1;r.id="row:"+(e-1);tableRowId.push(e-1);document.getElementById("nextFreeId").innerHTML=e-1;str=r.innerHTML;r.innerHTML=str.replaceAll(e,newId,true);n.appendChild(r);increaseRowCount();for(index=1;index<tableColId.length;++index){elem=document.getElementById("value:"+tableColId[index]+":"+newId);if(hasClass(elem,"wrongInput")){removeClass(elem,"wrongInput")}}deleteCheckbox=document.getElementById("delete:"+e);invertHidden(deleteCheckbox);checkboxTd=document.getElementById("value:checkbox:"+e);if(hasClass(checkboxTd,"whiteBorderless")){removeClass(checkboxTd,"whiteBorderless")}}function increaseRowCount(){document.getElementById("addCount").innerHTML=parseInt(document.getElementById("addCount").innerHTML)+1}function increaseDeleteCount(){document.getElementById("deleteCount").innerHTML=parseInt(document.getElementById("deleteCount").innerHTML)+1}function decreaseDeleteCount(){document.getElementById("deleteCount").innerHTML=parseInt(document.getElementById("deleteCount").innerHTML)-1}function increaseModifyCount(){document.getElementById("modifyCount").innerHTML=parseInt(document.getElementById("modifyCount").innerHTML)+1}function isDate(e){if(e==""){return true}var t=/^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/;return String(e).search(t)!=-1}function isInteger(e){var t=/^\s*(\+|-)?\d+\s*$/;return String(e).search(t)!=-1}function isDecimal(e){var t=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/;return String(e).search(t)!=-1}function removeUnnecessaryUpdatesAndDeletes(){var e=0;var t=0;while(e<=deleteTheseObjects.length){while(t<updateTheseObjects.length){if(deleteTheseObjects[e]==updateTheseObjects[t][0]){remove(updateTheseObjects,updateTheseObjects[t]);t=0}else{t++}}t=0;e++}}function checkAndSend(){if(confirm("Press OK to continue the update of your database. \nThese updates are non reversible!!!\n"+"\n Additions     : "+document.getElementById("addCount").innerHTML+"\n Modifications : "+document.getElementById("modifyCount").innerHTML+"\n Deletions     : "+document.getElementById("deleteCount").innerHTML+"\n\nPress Cancel to abort!")){theJavaFunction(tableColName,tableColType,updateTheseObjects,deleteTheseObjects)}else{alert("Update cancelled!")}}function addClass(e,t){if(!this.hasClass(e,t)){e.className+=" "+t}}function removeClass(e,t){if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function hasClass(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}var scriptVersion=.1;var minColWidth=170;var minimizedColWidth=25;var mouseDownX;var idDragStarted;var dragging=false;var updateTheseObjects=[];var deleteTheseObjects=[];String.prototype.replaceAll=function(e,t,n){var r;var i=this+"";var s=-1;if(typeof e==="string"){if(n){r=e.toLowerCase();while((s=i.toLowerCase().indexOf(e,s>=0?s+t.length:0))!==-1){i=i.substring(0,s)+t+i.substring(s+e.length)}}else{return this.split(e).join(t)}}return i}